; SPI WAIT RXNE/TXE/NOTBSY
ASM
.IF {VALUE} == 0
:::__LBL_WAIT_SPI_RXNE
BTJF (SPI_SR), SPI_SR_RXNE_POS, ::__LBL_WAIT_SPI_RXNE
.ELIF {VALUE} == 1
:::__LBL_WAIT_SPI_TXE
BTJF (SPI_SR), SPI_SR_TXE_POS, ::__LBL_WAIT_SPI_TXE
.ELSE
:::__LBL_WAIT_SPI_BSY
BTJT (SPI_SR), SPI_SR_BSY_POS, ::__LBL_WAIT_SPI_BSY
.ENDIF
ENDASM