ram_start = 0
ram_size = 0x400
rom_start = 0x8000
rom_size = 0x2000


INT0_NAME = RESET
INT1_NAME = TRAP
INT2_NAME = INT0,TLI
INT3_NAME = INT1,AWU
INT4_NAME = INT2,CLK
INT5_NAME = INT3,EXTI0
INT6_NAME = INT4,EXTI1
INT7_NAME = INT5,EXTI2
INT8_NAME = INT6,EXTI3
INT9_NAME = INT7,EXTI4
INT10_NAME = INT8,EXTI5
INT11_NAME = INT9,
INT12_NAME = INT10,SPI
INT13_NAME = INT11,TIM1_UPDOVF
INT14_NAME = INT12,TIM1_CAPCOM
INT15_NAME = INT13,TIM5_UPDOVF,TIMER_UPDOVF
INT16_NAME = INT14,TIM5_CAPCOM,TIMER_CAPCOM
INT17_NAME = INT15
INT18_NAME = INT16
INT19_NAME = INT17,UART1_TX,UART_TX
INT20_NAME = INT18,UART1_RX,UART_RX
INT21_NAME = INT19,I2C
INT22_NAME = INT20
INT23_NAME = INT21
INT24_NAME = INT22,ADC1
INT25_NAME = INT23,TIM6_UPDOVF
INT26_NAME = INT24,FLASH
INT27_NAME = INT25
INT28_NAME = INT26
INT29_NAME = INT27
INT30_NAME = INT28
INT31_NAME = INT29


DEVICE_NAME0 = UART
REAL_DEVICE_NAME0 = UART1
DEVICE_NAME1 = TIMER
REAL_DEVICE_NAME1 = TIM5
DEVICE_NAME2 = SPI
DEVICE_NAME3 = ST7565_SPI

IO_DEVICES = UART,UART1,SPI,ST7565_SPI

DEFAULT_IO_DEVICE = UART

UART_OPTIONS = TXT,IN,OUT
UART1_OPTIONS = TXT,IN,OUT
SPI_OPTIONS = BIN,INL,IN,OUT
ST7565_SPI_OPTIONS = TXT,OUT


CLK_ICKR = 0x50C0
CLK_CMSR = 0x50C3
CLK_SWR = 0x50C4
CLK_SWCR = 0x50C5
CLK_CKDIVR = 0x50C6
CLK_PCKENR1 = 0x50C7
CLK_CCOR = 0x50C9


CLK_ICKR_LSIEN = 0x8
CLK_ICKR_LSIRDY = 0x10

CLK_ICKR_LSIEN_POS = 3
CLK_ICKR_LSIRDY_POS = 4

CLK_SWCR_SWBSY = 0x1
CLK_SWCR_SWEN = 0x2
CLK_SWCR_SWIF = 0x8

CLK_SWCR_SWBSY_POS = 0
CLK_SWCR_SWEN_POS = 1
CLK_SWCR_SWIF_POS = 3

CLK_CKDIVR_HSIDIV = 0x18

CLK_CKDIVR_HSIDIV_1 = 0x0
CLK_CKDIVR_HSIDIV_2 = 0x8
CLK_CKDIVR_HSIDIV_4 = 0x10
CLK_CKDIVR_HSIDIV_8 = 0x18

CLK_CKDIVR_CPUDIV = 0x7

CLK_CKDIVR_CPUDIV_1 = 0x0
CLK_CKDIVR_CPUDIV_2 = 0x1
CLK_CKDIVR_CPUDIV_4 = 0x2
CLK_CKDIVR_CPUDIV_8 = 0x3
CLK_CKDIVR_CPUDIV_16 = 0x4
CLK_CKDIVR_CPUDIV_32 = 0x5
CLK_CKDIVR_CPUDIV_64 = 0x6
CLK_CKDIVR_CPUDIV_128 = 0x7

CLK_PCKENR1_I2C = 0x1
CLK_PCKENR1_SPI = 0x2
CLK_PCKENR1_UART1 = 0x8
CLK_PCKENR1_TIM6 = 0x10
CLK_PCKENR1_TIM5 = 0x40
CLK_PCKENR1_TIM1 = 0x80

CLK_PCKENR1_I2C_POS = 0
CLK_PCKENR1_SPI_POS = 1
CLK_PCKENR1_UART1_POS = 3
CLK_PCKENR1_TIM6_POS = 4
CLK_PCKENR1_TIM5_POS = 6
CLK_PCKENR1_TIM1_POS = 7


UART1_SR = 0x5230

UART1_SR_TXE = 0x80
UART1_SR_TC = 0x40
UART1_SR_RXNE = 0x20
UART1_SR_IDLE = 0x10
UART1_SR_OR = 0x8
UART1_SR_NF = 0x4
UART1_SR_FE = 0x2
UART1_SR_PE = 0x1

UART1_SR_TXE_POS = 7
UART1_SR_TC_POS = 6
UART1_SR_RXNE_POS = 5
UART1_SR_IDLE_POS = 4
UART1_SR_OR_POS = 3
UART1_SR_NF_POS = 2
UART1_SR_FE_POS = 1
UART1_SR_PE_POS = 0


UART1_DR = 0x5231
UART1_BRR1 = 0x5232
UART1_BRR2 = 0x5233
UART1_CR1 = 0x5234
UART1_CR2 = 0x5235
UART1_CR3 = 0x5236
UART1_CR4 = 0x5237
UART1_CR5 = 0x5238

UART1_CR2_TEN = 0x8
UART1_CR2_REN = 0x4

UART1_CR2_TEN_POS = 3
UART1_CR2_REN_POS = 2

UART1_CR5_SCEN = 0x20
UART1_CR5_NACK = 0x10
UART1_CR5_HDSEL = 0x8
UART1_CR5_IRLP = 0x4
UART1_CR5_IREN = 0x2

UART1_CR5_SCEN_POS = 5
UART1_CR5_NACK_POS = 4
UART1_CR5_HDSEL_POS = 3
UART1_CR5_IRLP_POS = 2
UART1_CR5_IREN_POS = 1


UART1_GTR = 0x5239
UART1_PSCR = 0x523A


TIM6_CR1 = 0x5340
TIM6_CR2 = 0x5341
TIM6_SMCR = 0x5342
TIM6_IER = 0x5343
TIM6_SR = 0x5344
TIM6_EGR = 0x5345
TIM6_CNTR = 0x5346
TIM6_PSCR = 0x5347
TIM6_ARR = 0x5348


TIM5_CR1 = 0x5300
TIM5_CR2 = 0x5301
TIM5_SMCR = 0x5302
TIM5_IER = 0x5303
TIM5_SR1 = 0x5304
TIM5_SR2 = 0x5305
TIM5_EGR = 0x5306
TIM5_CCMR1 = 0x5307
TIM5_CCMR1 = 0x5308
TIM5_CCMR1 = 0x5309
TIM5_CCER1 = 0x530A
TIM5_CCER2 = 0x530B
TIM5_CNTRH = 0x530C
TIM5_CNTRL = 0x530D
TIM5_PSCR = 0x530E
TIM5_ARRH = 0x530F
TIM5_ARRL = 0x5310


TIM5_CR1_CEN = 0x1
TIM5_CR1_UDIS = 0x2
TIM5_CR1_URS = 0x4
TIM5_CR1_OPM = 0x8
TIM5_CR1_ARPE = 0x80

TIM5_CR1_CEN_POS = 0
TIM5_CR1_UDIS_POS = 1
TIM5_CR1_URS_POS = 2
TIM5_CR1_OPM_POS = 3
TIM5_CR1_ARPE_POS = 7

TIM5_IER_UIE = 0x1

TIM5_IER_UIE_POS = 0

TIM5_SR1_UIF = 0x1

TIM5_SR1_UIF_POS = 0

TIM5_EGR_UG = 0x1

TIM5_EGR_UG_POS = 0

TIM5_PSCR_PSC = 0xF

TIM5_PSCR_PSC_DIV1 = 0x0
TIM5_PSCR_PSC_DIV2 = 0x1
TIM5_PSCR_PSC_DIV4 = 0x2
TIM5_PSCR_PSC_DIV8 = 0x3
TIM5_PSCR_PSC_DIV16 = 0x4
TIM5_PSCR_PSC_DIV32 = 0x5
TIM5_PSCR_PSC_DIV64 = 0x6
TIM5_PSCR_PSC_DIV128 = 0x7
TIM5_PSCR_PSC_DIV256 = 0x8
TIM5_PSCR_PSC_DIV512 = 0x9
TIM5_PSCR_PSC_DIV1024 = 0xA
TIM5_PSCR_PSC_DIV2048 = 0xB
TIM5_PSCR_PSC_DIV4096 = 0xC
TIM5_PSCR_PSC_DIV8192 = 0xD
TIM5_PSCR_PSC_DIV16384 = 0xE
TIM5_PSCR_PSC_DIV32768 = 0xF


PA_ODR = 0x5000
PA_IDR = 0x5001
PA_DDR = 0x5002
PA_CR1 = 0x5003
PA_CR2 = 0x5004

PB_ODR = 0x5005
PB_IDR = 0x5006
PB_DDR = 0x5007
PB_CR1 = 0x5008
PB_CR2 = 0x5009

PC_ODR = 0x500A
PC_IDR = 0x500B
PC_DDR = 0x500C
PC_CR1 = 0x500D
PC_CR2 = 0x500E

PD_ODR = 0x500F
PD_IDR = 0x5010
PD_DDR = 0x5011
PD_CR1 = 0x5012
PD_CR2 = 0x5013

PE_ODR = 0x5014
PE_IDR = 0x5015
PE_DDR = 0x5016
PE_CR1 = 0x5017
PE_CR2 = 0x5018

PF_ODR = 0x5019
PF_IDR = 0x501A
PF_DDR = 0x501B
PF_CR1 = 0x501C
PF_CR2 = 0x501D


GPIO_PIN0_MASK = 1
GPIO_PIN1_MASK = 2
GPIO_PIN2_MASK = 4
GPIO_PIN3_MASK = 8
GPIO_PIN4_MASK = 0x10
GPIO_PIN5_MASK = 0x20
GPIO_PIN6_MASK = 0x40
GPIO_PIN7_MASK = 0x80

GPIO_PIN0_POS = 0
GPIO_PIN1_POS = 1
GPIO_PIN2_POS = 2
GPIO_PIN3_POS = 3
GPIO_PIN4_POS = 4
GPIO_PIN5_POS = 5
GPIO_PIN6_POS = 6
GPIO_PIN7_POS = 7


SPI_CR1 = 0x5200
SPI_CR2 = 0x5201
SPI_ICR = 0x5202
SPI_SR = 0x5203
SPI_DR = 0x5204
SPI_CRCPR = 0x5205
SPI_RXCRCR = 0x5206
SPI_TXCRCR = 0x5207


SPI_CR1_CPHA = 0x1
SPI_CR1_CPOL = 0x2
SPI_CR1_MSTR = 0x4
SPI_CR1_BR = 0x38
SPI_CR1_SPE = 0x40
SPI_CR1_LSBFIRST = 0x80

SPI_CR1_CPHA_POS = 0
SPI_CR1_CPOL_POS = 1
SPI_CR1_MSTR_POS = 2
SPI_CR1_SPE_POS = 6
SPI_CR1_LSBFIRST_POS = 7

SPI_CR1_BR_DIV2 = 0x0
SPI_CR1_BR_DIV4 = 0x8
SPI_CR1_BR_DIV8 = 0x10
SPI_CR1_BR_DIV16 = 0x18
SPI_CR1_BR_DIV32 = 0x20
SPI_CR1_BR_DIV64 = 0x28
SPI_CR1_BR_DIV128 = 0x30
SPI_CR1_BR_DIV256 = 0x38

SPI_CR2_SSI = 0x1
SPI_CR2_SSM = 0x2
SPI_CR2_RXONLY = 0x4
SPI_CR2_CRCNEXT = 0x10
SPI_CR2_CRCEN = 0x20
SPI_CR2_BDOE = 0x40
SPI_CR2_BDM = 0x80

SPI_CR2_SSI_POS = 0
SPI_CR2_SSM_POS = 1
SPI_CR2_RXONLY_POS = 2
SPI_CR2_CRCNEXT_POS = 4
SPI_CR2_CRCEN_POS = 5
SPI_CR2_BDOE_POS = 6
SPI_CR2_BDM_POS = 7

SPI_ICR_WKIE = 0x10
SPI_ICR_ERRIE = 0x20
SPI_ICR_RXIE = 0x40
SPI_ICR_TXIE = 0x80

SPI_ICR_WKIE_POS = 4
SPI_ICR_ERRIE_POS = 5
SPI_ICR_RXIE_POS = 6
SPI_ICR_TXIE_POS = 7

SPI_SR_RXNE = 0x1
SPI_SR_TXE = 0x2
SPI_SR_WKUP = 0x8
SPI_SR_CRCERR = 0x10
SPI_SR_MODF = 0x20
SPI_SR_OVR = 0x40
SPI_SR_BSY = 0x80

SPI_SR_RXNE_POS = 0
SPI_SR_TXE_POS = 1
SPI_SR_WKUP_POS = 3
SPI_SR_CRCERR_POS = 4
SPI_SR_MODF_POS = 5
SPI_SR_OVR_POS = 6
SPI_SR_BSY_POS = 7
