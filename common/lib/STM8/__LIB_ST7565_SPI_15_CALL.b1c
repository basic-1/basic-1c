; set contrast (CONTRAST)
; A - contrast value (1..100)
:__LIB_ST7565_SPI_15_CALL
ASM
PUSH A
ENDASM

CALL,__LIB_ST7565_SPI_DC_LO

; set EV level command
PUT,SPI,0x81<BYTE>

ASM
LD A, 63
LD XL, A
POP A
MUL X, A
LD A, 100
DIV X, A
LD A, XL
ENDASM

; the command data byte
ASM
.IF FIND(__MCU_NAME,"STM8S|STM8L101|STM8L001") >= 0
ENDASM
INL,__LIB_SPI_PUT_B_INL
ASM
.ELSE
ENDASM
INL,__LIB_SPI1_PUT_B_INL
ASM
.ENDIF
ENDASM

RET