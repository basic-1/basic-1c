ASM
:::__LBL_WAIT_SPI_TXE
BTJF (SPI_SR), SPI_SR_TXE_POS, ::__LBL_WAIT_SPI_TXE
LD (SPI_DR), A
:::__LBL_WAIT_SPI_RXNE
BTJF (SPI_SR), SPI_SR_RXNE_POS, ::__LBL_WAIT_SPI_RXNE
LD A, (SPI_DR)
ENDASM
