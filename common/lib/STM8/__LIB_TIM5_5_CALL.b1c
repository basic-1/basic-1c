; TIM5 START

:__LIB_TIM5_5_CALL
ASM
; START
BRES (TIM5_IER), TIM5_IER_UIE_POS
BSET (TIM5_EGR), TIM5_EGR_UG_POS

:::__LBL_WAIT_UIF
BTJF (TIM5_SR1), TIM5_SR1_UIF_POS, ::__LBL_WAIT_UIF
BRES (TIM5_SR1), TIM5_SR1_UIF_POS
BTJF (__LIB_TIM5_OPT), 0, ::__LBL_START_TIMER
BSET (TIM5_IER), TIM5_IER_UIE_POS

:::__LBL_START_TIMER
BSET (TIM5_CR1), TIM5_CR1_CEN_POS
RET
ENDASM