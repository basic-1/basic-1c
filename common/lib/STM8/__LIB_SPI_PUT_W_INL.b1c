ASM
RLWA X
:::__LBL_WAIT_SPI_TXE_1
BTJF (SPI_SR), SPI_SR_TXE_POS, ::__LBL_WAIT_SPI_TXE_1
LD (SPI_DR), A
RLWA X
:::__LBL_WAIT_SPI_TXE_2
BTJF (SPI_SR), SPI_SR_TXE_POS, ::__LBL_WAIT_SPI_TXE_2
LD (SPI_DR), A
ENDASM