ASM
:::__LBL_WAIT_SPI_RXNE_1
BTJF (SPI_SR), SPI_SR_RXNE_POS, ::__LBL_WAIT_SPI_RXNE_1
LD A, (SPI_DR)
RLWA X
:::__LBL_WAIT_SPI_RXNE_2
BTJF (SPI_SR), SPI_SR_RXNE_POS, ::__LBL_WAIT_SPI_RXNE_2
LD A, (SPI_DR)
RLWA X
ENDASM