; SPI1 WAIT RXNE/TXE/NOTBSY
ASM
.IF {VALUE} == 0
:::__LBL_WAIT_SPI1_RXNE
BTJF (SPI1_SR), SPI1_SR_RXNE_POS, ::__LBL_WAIT_SPI1_RXNE
.ELIF {VALUE} == 1
:::__LBL_WAIT_SPI1_TXE
BTJF (SPI1_SR), SPI1_SR_TXE_POS, ::__LBL_WAIT_SPI1_TXE
.ELSE
:::__LBL_WAIT_SPI1_BSY
BTJT (SPI1_SR), SPI1_SR_BSY_POS, ::__LBL_WAIT_SPI1_BSY
.ENDIF
ENDASM